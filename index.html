<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ahorros</title></title>
  <link rel="stylesheet" type="text/css" href="styles.css">

</head>
<body>
  <h1>Bienvenido</h1>
  <form>
    <label for="cantidad">Ingresa la cantidad:</label>
    <input type="number" id="cantidad" placeholder="Cantidad">
    <button type="button" onclick="guardarCantidad()">Guardar</button>
    
  </form>
  <h2>Registros:</h2>
  <ul id="lista"></ul>
  <button type="button" onclick="resetearRegistros()">Resetear</button>

<script>
  // ... Tu código existente

  // Función para reiniciar los registros
  function resetearRegistros() {
    // Elimina todos los registros de localStorage
    localStorage.removeItem('registros');

    // Limpia la lista en la página
    var lista = document.getElementById('lista');
    lista.innerHTML = '';
  }
</script>
<section id="total">
    <h2>Total</h2>
    <p id="total-amount">0</p>
</section>

<div id="transactions">
    <h2>Ingresos</h2>
    <ul id="transaction-list"></ul>
    <input type="text" id="note" placeholder="Añadir nota">
    <button id="add-transaction">Añadir</button>
</div>


<div id="transactions">
    <h2>Ingresos</h2>
    <ul id="transaction-list"></ul>
    <input type="text" id="note" placeholder="Añadir nota">
    <button id="add-transaction">Añadir</button>
</div>

  <script>
    
    // Guardar la cantidad ingresada en localStorage
    function guardarCantidad() {
      var cantidadIngresada = document.getElementById('cantidad').value;
      var fecha = new Date();

      // Crear un objeto para almacenar la cantidad y la fecha
      var registro = {
        cantidad: cantidadIngresada,
        fecha: fecha.toISOString() // Convierte la fecha a una cadena legible
      };

      // Obtener los registros existentes o inicializar un arreglo vacío
      var registrosGuardados = JSON.parse(localStorage.getItem('registros')) || [];

      // Agregar el nuevo registro al arreglo
      registrosGuardados.push(registro);

      // Guardar el arreglo actualizado en localStorage
      localStorage.setItem('registros', JSON.stringify(registrosGuardados));

      // Actualizar la lista en la página
      mostrarRegistros();
    }

    // Mostrar la lista de registros en la página
    function mostrarRegistros() {
      var registrosGuardados = JSON.parse(localStorage.getItem('registros')) || [];
      var lista = document.getElementById('lista');

      // Limpiar la lista antes de mostrar los registros
      lista.innerHTML = '';

      // Iterar sobre los registros y agregarlos a la lista
      registrosGuardados.forEach(function(registro, index) {
        var li = document.createElement('li');
        li.textContent = 'Cantidad: ' + registro.cantidad + ', Fecha: ' + registro.fecha;
        lista.appendChild(li);
      });
    }

    // Llamar a mostrarRegistros al cargar la página para mostrar los registros existentes
    window.onload = mostrarRegistros;
  </script>
</body>
</html>

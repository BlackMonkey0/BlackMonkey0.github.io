<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Tu Hucha</title>
</head>
<body>
  <h1>Bienvenido</h1>
  <form>
    <label for="cantidad">Ingresa la cantidad:</label>
    <input type="number" id="cantidad" placeholder="Cantidad">
    <button type="button" onclick="guardarCantidad()">Guardar</button>
  </form>
  <h2>Registros:</h2>
  <ul id="lista"></ul>

  <script>
    // Guardar la cantidad ingresada en localStorage
    function guardarCantidad() {
      var cantidadIngresada = document.getElementById('cantidad').value;
      var fecha = new Date();

      // Crear un objeto para almacenar la cantidad y la fecha
      var registro = {
        cantidad: cantidadIngresada,
        fecha: fecha.toISOString() // Convierte la fecha a una cadena legible
      };

      // Obtener los registros existentes o inicializar un arreglo vacío
      var registrosGuardados = JSON.parse(localStorage.getItem('registros')) || [];

      // Agregar el nuevo registro al arreglo
      registrosGuardados.push(registro);

      // Guardar el arreglo actualizado en localStorage
      localStorage.setItem('registros', JSON.stringify(registrosGuardados));

      // Actualizar la lista en la página
      mostrarRegistros();
    }

    // Mostrar la lista de registros en la página
    function mostrarRegistros() {
      var registrosGuardados = JSON.parse(localStorage.getItem('registros')) || [];
      var lista = document.getElementById('lista');

      // Limpiar la lista antes de mostrar los registros
      lista.innerHTML = '';

      // Iterar sobre los registros y agregarlos a la lista
      registrosGuardados.forEach(function(registro, index) {
        var li = document.createElement('li');
        li.textContent = 'Cantidad: ' + registro.cantidad + ', Fecha: ' + registro.fecha;
        lista.appendChild(li);
      });
    }

    // Llamar a mostrarRegistros al cargar la página para mostrar los registros existentes
    window.onload = mostrarRegistros;
  </script>
</body>
</html>
